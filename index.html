<!-- Home View -->
<div v-if="currentView === 'home'" key="home" class="text-center">
    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Bienvenue {{ currentUser }} !</h2>
    <p class="text-gray-600 mb-8">Enregistrez vos visites et suivez votre activité professionnelle.</p>
    
    <button @click="currentView = 'newVisit'" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transition transform hover:scale-105">
        Nouvelle Visite
    </button>
    
    <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Today's Visits -->
        <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="text-lg font-medium text-gray-800 mb-2">Visites aujourd'hui</h3>
            <div v-if="todaysVisits.length > 0">
                <div v-for="visit in todaysVisits" :key="visit.id" class="text-left mb-2 border-b pb-2">
                    <p class="font-medium">{{ visit.clientName }}</p>
                    <p class="text-sm text-gray-600">{{ visit.clientType }}</p>
                </div>
            </div>
            <p v-else class="text-gray-500">Aucune visite aujourd'hui</p>
        </div>
        
        <!-- This Week's Visits -->
        <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="text-lg font-medium text-gray-800 mb-2">Visites cette semaine</h3>
            <div v-if="weeksVisits.length > 0">
                <div v-for="day in weeksVisits" :key="day.date" class="text-left mb-3">
                    <h4 class="font-medium">{{ formatDate(day.date) }}</h4>
                    <p v-for="visit in day.visits" :key="visit.id" class="text-sm ml-2">
                        - {{ visit.clientName }} ({{ visit.clientType }})
                    </p>
                </div>
            </div>
            <p v-else class="text-gray-500">Aucune visite cette semaine</p>
        </div>
        
        <!-- Stock Overview -->
        <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="text-lg font-medium text-gray-800 mb-2">Échantillons restants</h3>
            <div class="text-left">
                <div class="flex justify-between mb-2">
                    <span>Crèmes:</span>
                    <span class="font-medium">{{ stock.cream }}</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span>Lotions:</span>
                    <span class="font-medium">{{ stock.lotion }}</span>
                </div>
                <div class="flex justify-between">
                    <span>Sérums:</span>
                    <span class="font-medium">{{ stock.serum }}</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- New Visit Form -->
<div v-if="currentView === 'newVisit'" key="newVisit" class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Nouvelle Visite</h2>
    
    <form @submit.prevent="saveVisit" class="space-y-4">
        <!-- [Previous form fields] -->
        
        <!-- New Address Field -->
        <div>
            <label for="address" class="block text-sm font-medium text-gray-700">Adresse</label>
            <input type="text" id="address" v-model="newVisit.address" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
        </div>
        
        <!-- New City Field -->
        <div>
            <label for="city" class="block text-sm font-medium text-gray-700">Ville</label>
            <input type="text" id="city" v-model="newVisit.city" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
        </div>
        
        <!-- [Rest of form] -->
    </form>
</div>